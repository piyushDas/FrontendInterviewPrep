<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Kadane's algo</title>
  </head>
  <body>

  </body>
  <script type="text/javascript">
  /*
    Given an array of integers,
    find contiguous subarray within
    it which has the largest sum.
  */

  /*
    Time complexity is O(n)
    Space used up is O(1)
  */

	// Function to find contiguous sub-array with the largest sum
	// in given set of integers
	function kadane(numArr)
	{
		// stores maximum sum sub-array found so far
		var maxSoFar = numArr[0];

		// stores maximum sum of sub-array ending at current position
		var maxEndingHere = numArr[0];

		// traverse the given array
		for (var i = 1; i < numArr.length; i++) {
			// update maximum sum of sub-array "ending" at index i (by adding
			// current element to maximum sum ending at previous index i-1)
			maxEndingHere = maxEndingHere + numArr[i];

			// if maximum sum is negative, set it to 0 (which represents
			// an empty sub-array)
			maxEndingHere = Math.max(maxEndingHere, numArr[i]);

			// update result if current sub-array sum is found to be greater
			maxSoFar = Math.max(maxSoFar, maxEndingHere);
		}

		return maxSoFar;
	}

  var numArr = [ -2, 1, -3, 4, -1, 2, 1, -5, 4 ];
  console.log(kadane(numArr));

  </script>
</html>
